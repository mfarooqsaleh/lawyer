(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(154)},114:function(e,t,a){},115:function(e,t,a){},119:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),l=(a(114),a(115),a(9)),s=a(5),i=(a(119),a(22)),u=a(15),m=a(164),p=a(165),d=a(96),E=function(){return r.a.createElement("footer",{style:{width:"100%",position:"relative",bottom:0,display:"flex",justifyContent:"center"}},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"text-center py-3"},"Copyright \xa9 Smart Leading Solutions"))))},f=a(170),g=a(173),v=a(171),y=a(97),S=a(169),b=a(11),h=a.n(b),O=a(18),j=a(21),C=a.n(j),_=function(e,t){return function(){var a=Object(O.a)(h.a.mark(function a(n){var r,o,c;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-type":"application/json"}},a.next=5,C.a.post("/api/users/login",{email:e,password:t},r);case 5:o=a.sent,c=o.data,n({type:"USER_LOGIN_SUCCESS",payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e){return a.apply(this,arguments)}}()},I=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:"USER_LOGOUT"});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},L=function(e,t,a,n,r){return function(){var o=Object(O.a)(h.a.mark(function o(c){var l,s,i;return h.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,c({type:"USER_REGISTER_REQUEST"}),l={headers:{"Content-type":"application/json"}},o.next=5,C.a.post("/api/users",{name:e,pic:n,email:t,password:a,role:r},l);case 5:s=o.sent,i=s.data,c({type:"USER_REGISTER_SUCCESS",payload:i}),c({type:"USER_LOGIN_SUCCESS",payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(0),c({type:"USER_REGISTER_FAIL",payload:o.t0.response&&o.t0.response.data.message?o.t0.response.data.message:o.t0.message});case 15:case"end":return o.stop()}},o,null,[[0,12]])}));return function(e){return o.apply(this,arguments)}}()};var T=function(e){var t=e.setSearch,a=Object(l.b)(),o=Object(l.c)(function(e){return e.userLogin}).userInfo;return Object(n.useEffect)(function(){},[o]),r.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark"},r.a.createElement(m.a,null,r.a.createElement(f.a.Brand,{href:"/myposts"},"Lawyers App"),r.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(g.a,{className:"m-auto"},o&&r.a.createElement(v.a,{inline:!0},r.a.createElement(y.a,{type:"text",placeholder:"Search",className:"mr-sm-2",onChange:function(e){return t(e.target.value)}}))),r.a.createElement(g.a,null,o?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a.Link,{href:"/feeds"},"My Feeds"),r.a.createElement(g.a.Link,{href:"/myposts"},"My Posts"),r.a.createElement(S.a,{title:"".concat(o.name),id:"collasible-nav-dropdown"},r.a.createElement(S.a.Item,{href:"/profile"},"My Profile"),r.a.createElement(S.a.Divider,null),r.a.createElement(S.a.Item,{onClick:function(){a(I())}},"Logout"))):r.a.createElement(g.a.Link,{href:"/login"},"Login")))))},P=a(98),w=a(172),U=a(174);a(145);var R=function(e){var t=e.children,a=e.title;return r.a.createElement("div",{className:"mainback"},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement("div",{className:"page"},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading"},a),r.a.createElement("hr",null)),t))))},A=a(168),x=function(){return function(){var e=Object(O.a)(h.a.mark(function e(t,a){var n,r,o,c,l,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"POSTS_LIST_REQUEST"}),n=a(),r=n.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,C.a.get("/api/posts",o);case 6:c=e.sent,l=c.data,t({type:"POSTS_LIST_SUCCESS",payload:l}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:"POSTS_LIST_FAIL",payload:s});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}()},N=function(e,t,a,n){return function(){var r=Object(O.a)(h.a.mark(function r(o,c){var l,s,i,u,m,p;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o({type:"POSTS_CREATE_REQUEST"}),l=c(),s=l.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,C.a.post("/api/posts/create",{title:e,content:t,category:a,pic:n},i);case 6:u=r.sent,m=u.data,o({type:"POSTS_CREATE_SUCCESS",payload:m}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),p=r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message,o({type:"POSTS_CREATE_FAIL",payload:p});case 15:case"end":return r.stop()}},r,null,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(O.a)(h.a.mark(function t(a,n){var r,o,c,l,s,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"POSTS_DELETE_REQUEST"}),r=n(),o=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,C.a.delete("/api/posts/".concat(e),c);case 6:l=t.sent,s=l.data,a({type:"POSTS_DELETE_SUCCESS",payload:s}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:"POSTS_DELETE_FAIL",payload:i});case 15:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}()},D=function(e,t,a,n,r){return function(){var o=Object(O.a)(h.a.mark(function o(c,l){var s,i,u,m,p,d;return h.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,c({type:"POSTS_UPDATE_REQUEST"}),s=l(),i=s.userLogin.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},o.next=6,C.a.put("/api/posts/".concat(e),{title:t,content:a,category:n,pic:r},u);case 6:m=o.sent,p=m.data,c({type:"POSTS_UPDATE_SUCCESS",payload:p}),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(0),d=o.t0.response&&o.t0.response.data.message?o.t0.response.data.message:o.t0.message,c({type:"POSTS_UPDATE_FAIL",payload:d});case 15:case"end":return o.stop()}},o,null,[[0,11]])}));return function(e,t){return o.apply(this,arguments)}}()},G=a(166);var B=function(e){var t=e.size,a=void 0===t?100:t;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},r.a.createElement(G.a,{style:{width:a,height:a},animation:"border"}))},F=a(167),z=function(e){var t=e.variant,a=void 0===t?"info":t,n=e.children;return r.a.createElement(F.a,{variant:a,style:{fontSize:20}},r.a.createElement("strong",null,n))};a(146);var Q=function(e){var t=e.history,a=e.search,o=Object(l.b)(),c=Object(l.c)(function(e){return e.postList}),s=c.loading,u=c.error,m=c.posts,p=Object(l.c)(function(e){return e.userLogin}).userInfo,d=Object(l.c)(function(e){return e.postDelete}),E=d.loading,f=d.error,g=d.success,v=Object(l.c)(function(e){return e.postCreate}).success,y=Object(l.c)(function(e){return e.postUpdate}).success;return Object(n.useEffect)(function(){o(x()),p||t.push("/")},[o,t,p,g,v,y]),r.a.createElement(R,{title:"Welcome Back ".concat(p&&p.name,"..")},console.log(m),r.a.createElement(i.b,{to:"/createpost"},r.a.createElement(P.a,{style:{marginLeft:10,marginBottom:6},size:"lg"},"Create new post")),u&&r.a.createElement(z,{variant:"danger"},u),f&&r.a.createElement(z,{variant:"danger"},f),s&&r.a.createElement(B,null),E&&r.a.createElement(B,null),m&&m.filter(function(e){return e.title.toLowerCase().includes(a.toLowerCase())}).reverse().map(function(e){return r.a.createElement(w.a,null,r.a.createElement(U.a,{style:{margin:10},key:e._id},r.a.createElement(U.a.Header,{style:{display:"flex"}},r.a.createElement("span",null,r.a.createElement("img",{style:{width:"60px"},src:e.pic,alt:"BigCo Inc. logo"})),r.a.createElement(w.a,{style:{color:"black",textDecoration:"none",flex:1,cursor:"pointer",alignSelf:"center",fontSize:18}},r.a.createElement(w.a.Item,{eventKey:"0"},r.a.createElement(w.a.Header,{key:e.title},e.title),r.a.createElement(w.a.Body,null,r.a.createElement(A.a,{key:e.content},e.content)))),r.a.createElement("div",null,r.a.createElement(P.a,{href:"/post/".concat(e._id)},"Edit"),r.a.createElement(P.a,{variant:"danger",className:"mx-2",onClick:function(){return t=e._id,void(window.confirm("Are you sure?")&&o(k(t)));var t}},"Delete"))),r.a.createElement(w.a.Collapse,{eventKey:"0"},r.a.createElement(U.a.Body,null,r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("footer",{className:"blockquote-footer"},"Created on"," ",r.a.createElement("cite",{title:"Source Title"},e.createdAt.substring(0,10))))))))}))};var M=function(e){var t=e.match,a=e.history,o=(e.location,Object(n.useState)()),c=Object(s.a)(o,2),i=c[0],u=c[1],m=Object(n.useState)(),p=Object(s.a)(m,2),d=p[0],E=p[1],f=Object(n.useState)(),g=Object(s.a)(f,2),y=g[0],S=g[1],b=Object(n.useState)(""),j=Object(s.a)(b,2),_=j[0],I=j[1],L=Object(n.useState)(),T=Object(s.a)(L,2),w=T[0],x=T[1],N=Object(n.useState)(),G=Object(s.a)(N,2),F=G[0],Q=G[1],M=Object(l.b)(),H=Object(l.c)(function(e){return e.postUpdate}),J=H.loading,W=H.error,q=Object(l.c)(function(e){return e.postDelete}),K=q.loading,V=q.error;return Object(n.useEffect)(function(){!function(){var e=Object(O.a)(h.a.mark(function e(){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/api/posts/".concat(t.params.id));case 2:a=e.sent,n=a.data,u(n.title),E(n.content),S(n.category),x(n.pic),I(n.updatedAt);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t.params.id,_]),r.a.createElement(R,{title:"Edit Post"},r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,"Edit your Post"),r.a.createElement(U.a.Body,null,r.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),M(D(t.params.id,i,d,y,w)),i&&d&&y&&(u(""),S(""),E(""),a.push("/myposts"))}},K&&r.a.createElement(B,null),W&&r.a.createElement(z,{variant:"danger"},W),V&&r.a.createElement(z,{variant:"danger"},V),r.a.createElement(v.a.Group,{controlId:"title"},r.a.createElement(v.a.Label,null,"Title"),r.a.createElement(v.a.Control,{type:"title",placeholder:"Enter the title",value:i,onChange:function(e){return u(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"content"},r.a.createElement(v.a.Label,null,"Content"),r.a.createElement(v.a.Control,{as:"textarea",placeholder:"Enter the content",rows:4,value:d,onChange:function(e){return E(e.target.value)}})),d&&r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,"Post Preview"),r.a.createElement(U.a.Body,null,r.a.createElement(A.a,null,d))),r.a.createElement(v.a.Group,{controlId:"content"},r.a.createElement(v.a.Label,null,"Category"),r.a.createElement(v.a.Control,{type:"content",placeholder:"Enter the Category",value:y,onChange:function(e){return S(e.target.value)}})),F&&r.a.createElement(z,{variant:"danger"},F),r.a.createElement(v.a.Group,{controlId:"pic"},r.a.createElement(v.a.Label,null,"Change Profile Picture"),r.a.createElement("input",{onChange:function(e){return function(e){if(Q(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return Q("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","smartt"),t.append("cloud_name","smartleading"),fetch("https://api.cloudinary.com/v1_1/smartleading/image/upload",{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){x(e.url.toString()),console.log(w)}).catch(function(e){console.log(e)})}(e.target.files[0])},id:"custom-file",type:"file",label:"Upload Profile Picture",custom:!0})),J&&r.a.createElement(B,{size:50}),r.a.createElement(P.a,{variant:"primary",type:"submit"},"Update Post"),r.a.createElement(P.a,{className:"mx-2",variant:"danger",onClick:function(){return e=t.params.id,window.confirm("Are you sure?")&&M(k(e)),void a.push("/myposts");var e}},"Delete Post"))),r.a.createElement(U.a.Footer,{className:"text-muted"},"Updated on - ",_.substring(0,10))))};var H=function(e){e.location;var t=e.history,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(""),f=Object(s.a)(E,2),g=f[0],y=f[1],S=Object(n.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"),b=Object(s.a)(S,2),h=b[0],O=b[1],j=Object(n.useState)(null),C=Object(s.a)(j,2),_=C[0],I=C[1],L=Object(l.b)(),T=Object(l.c)(function(e){return e.postCreate}),w=T.loading,x=T.error,k=T.post;console.log(k);var D=function(){i(""),y(""),d(""),y("")};return Object(n.useEffect)(function(){},[]),r.a.createElement(R,{title:"Create a Post"},r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,"Create a new Post"),r.a.createElement(U.a.Body,null,r.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),L(N(c,p,g,h)),c&&p&&g&&(D(),t.push("/myposts"))}},x&&r.a.createElement(z,{variant:"danger"},x),r.a.createElement(v.a.Group,{controlId:"title"},r.a.createElement(v.a.Label,null,"Title"),r.a.createElement(v.a.Control,{type:"title",value:c,placeholder:"Enter the title",onChange:function(e){return i(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"content"},r.a.createElement(v.a.Label,null,"Content"),r.a.createElement(v.a.Control,{as:"textarea",value:p,placeholder:"Enter the content",rows:4,onChange:function(e){return d(e.target.value)}})),p&&r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,"Post Preview"),r.a.createElement(U.a.Body,null,r.a.createElement(A.a,null,p))),r.a.createElement(v.a.Group,{controlId:"content"},r.a.createElement(v.a.Label,null,"Category"),r.a.createElement(v.a.Control,{type:"content",value:g,placeholder:"Enter the Category",onChange:function(e){return y(e.target.value)}}),_&&r.a.createElement(z,{variant:"danger"},_),r.a.createElement(v.a.Group,{controlId:"pic"},r.a.createElement(v.a.Label,null,"Profile Picture"),r.a.createElement("input",{onChange:function(e){return function(e){if("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===e)return I("Please Select an Image");if(I(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return I("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","smartleading"),t.append("cloud_name","smartleading"),fetch("https://api.cloudinary.com/v1_1/smartleading/image/upload",{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){O(e.url.toString())}).catch(function(e){console.log(e)})}(e.target.files[0])},id:"custom-file",type:"file",multiple:!0,label:"Upload Post Picture",custom:!0}))),w&&r.a.createElement(B,{size:50}),r.a.createElement(P.a,{type:"submit",variant:"primary"},"Create Post"),r.a.createElement(P.a,{className:"mx-2",onClick:D,variant:"danger"},"Reset Feilds"))),r.a.createElement(U.a.Footer,{className:"text-muted"},"Creating on - ",(new Date).toLocaleDateString())))};a(151);var J=function(e){var t=e.history,a=Object(l.c)(function(e){return e.userLogin}).userInfo;return Object(n.useEffect)(function(){a&&t.push("/myposts")},[t,a]),r.a.createElement("div",{className:"main"},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement("div",{className:"intro-text"},r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"LawyersApp"),r.a.createElement("p",{className:"subtitle"},"One Safe place for all of you.")),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement(i.b,{to:"/login"},r.a.createElement(P.a,{size:"lg",className:"landingbutton"},"Login")),r.a.createElement(i.b,{to:"/register"},r.a.createElement(P.a,{variant:"outline-primary",size:"lg",className:"landingbutton"},"Signup")))))))};a(152);var W=function(e){var t=e.history,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],u=o[1],m=Object(n.useState)(""),E=Object(s.a)(m,2),f=E[0],g=E[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),b=(S[0],S[1],Object(l.b)()),h=Object(l.c)(function(e){return e.userLogin}),O=h.loading,j=h.error,C=h.userInfo;return Object(n.useEffect)(function(){C&&t.push("/myposts")},[t,C]),r.a.createElement(R,{title:"LOGIN"},r.a.createElement("div",{className:"loginContainer"},j&&r.a.createElement(z,{variant:"danger"},j),O&&r.a.createElement(B,null),r.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),b(_(c,f))}},r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Email address"),r.a.createElement(v.a.Control,{type:"email",value:c,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"formBasicPassword"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",value:f,placeholder:"Password",onChange:function(e){return g(e.target.value)}})),r.a.createElement(P.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement(p.a,{className:"py-3"},r.a.createElement(d.a,null,"New Customer ? ",r.a.createElement(i.b,{to:"/register"},"Register Here")))))};a(95);var q=function(e){var t=e.history,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],u=o[1],m=Object(n.useState)(""),E=Object(s.a)(m,2),f=E[0],g=E[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),b=S[0],h=(S[1],Object(n.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg")),O=Object(s.a)(h,2),j=O[0],C=(O[1],Object(n.useState)("")),_=Object(s.a)(C,2),I=_[0],T=_[1],w=Object(n.useState)(""),U=Object(s.a)(w,2),A=U[0],x=U[1],N=Object(n.useState)(null),k=Object(s.a)(N,2),D=k[0],G=k[1],F=Object(n.useState)(null),Q=Object(s.a)(F,2),M=Q[0],H=(Q[1],Object(l.b)()),J=Object(l.c)(function(e){return e.userRegister}),W=J.loading,q=J.error,K=J.userInfo;return Object(n.useEffect)(function(){K&&t.push("/")},[t,K]),r.a.createElement(R,{title:"REGISTER"},r.a.createElement("div",{className:"loginContainer"},q&&r.a.createElement(z,{variant:"danger"},q),D&&r.a.createElement(z,{variant:"danger"},D),W&&r.a.createElement(B,null),r.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),I!==A?G("Passwords do not match"):H(L(f,c,I,j,b))}},r.a.createElement(v.a.Group,{controlId:"name"},r.a.createElement(v.a.Label,null,"Name"),r.a.createElement(v.a.Control,{type:"name",value:f,placeholder:"Enter name",onChange:function(e){return g(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Email address"),r.a.createElement(v.a.Control,{type:"email",value:c,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"formBasicPassword"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",value:I,placeholder:"Password",onChange:function(e){return T(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"confirmPassword"},r.a.createElement(v.a.Label,null,"Confirm Password"),r.a.createElement(v.a.Control,{type:"password",value:A,placeholder:"Confirm Password",onChange:function(e){return x(e.target.value)}})),M&&r.a.createElement(z,{variant:"danger"},M),r.a.createElement(v.a.Group,{controlId:"pic"},r.a.createElement(v.a.Label,null,"Profile Picture"),r.a.createElement("input",{id:"custom-file",type:"file",label:"Upload Profile Picture",custom:!0})),r.a.createElement(P.a,{variant:"primary",type:"submit"},"Register")),r.a.createElement(p.a,{className:"py-3"},r.a.createElement(d.a,null,"Have an Account ? ",r.a.createElement(i.b,{to:"/login"},"Login")))))};var K=function(e){var t=e.history,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],u=o[1],m=Object(n.useState)(""),E=Object(s.a)(m,2),f=E[0],g=E[1],y=Object(n.useState)("lawyer"),S=Object(s.a)(y,2),b=S[0],h=(S[1],Object(n.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg")),O=Object(s.a)(h,2),j=O[0],C=(O[1],Object(n.useState)("")),_=Object(s.a)(C,2),I=_[0],T=_[1],w=Object(n.useState)(""),U=Object(s.a)(w,2),A=U[0],x=U[1],N=Object(n.useState)(null),k=Object(s.a)(N,2),D=k[0],G=k[1],F=Object(n.useState)(null),Q=Object(s.a)(F,2),M=Q[0],H=(Q[1],Object(l.b)()),J=Object(l.c)(function(e){return e.userRegister}),W=J.loading,q=J.error,K=J.userInfo;return Object(n.useEffect)(function(){K&&t.push("/myposts")},[t,K]),r.a.createElement(R,{title:"REGISTER"},r.a.createElement("div",{className:"loginContainer"},q&&r.a.createElement(z,{variant:"danger"},q),D&&r.a.createElement(z,{variant:"danger"},D),W&&r.a.createElement(B,null),r.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),I!==A?G("Passwords do not match"):H(L(f,c,I,j,b))}},r.a.createElement(v.a.Group,{controlId:"name"},r.a.createElement(v.a.Label,null,"Name"),r.a.createElement(v.a.Control,{type:"name",value:f,placeholder:"Enter name",onChange:function(e){return g(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Email address"),r.a.createElement(v.a.Control,{type:"email",value:c,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"name"},r.a.createElement(v.a.Label,null,"Role"),r.a.createElement(v.a.Control,{type:"text",value:"lawyer",readonly:"readonly",placeholder:"role"})),r.a.createElement(v.a.Group,{controlId:"formBasicPassword"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",value:I,placeholder:"Password",onChange:function(e){return T(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"confirmPassword"},r.a.createElement(v.a.Label,null,"Confirm Password"),r.a.createElement(v.a.Control,{type:"password",value:A,placeholder:"Confirm Password",onChange:function(e){return x(e.target.value)}})),M&&r.a.createElement(z,{variant:"danger"},M),r.a.createElement(v.a.Group,{controlId:"pic"},r.a.createElement(v.a.Label,null,"Profile Picture"),r.a.createElement("input",{id:"custom-file",type:"file",label:"Upload Profile Picture",custom:!0})),r.a.createElement(P.a,{variant:"primary",type:"submit"},"Register")),r.a.createElement(p.a,{className:"py-3"},r.a.createElement(d.a,null,"Have an Account ? ",r.a.createElement(i.b,{to:"/login"},"Login")))))},V=(a(153),function(e){e.location;var t=e.history,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),E=m[0],f=m[1],g=Object(n.useState)(),y=Object(s.a)(g,2),S=y[0],b=y[1],j=Object(n.useState)(""),_=Object(s.a)(j,2),I=_[0],L=_[1],T=Object(n.useState)(""),w=Object(s.a)(T,2),U=w[0],A=w[1],x=Object(n.useState)(),N=Object(s.a)(x,2),k=N[0],D=N[1],G=Object(l.b)(),F=Object(l.c)(function(e){return e.userLogin}).userInfo,Q=Object(l.c)(function(e){return e.userUpdate}),M=Q.loading,H=Q.error,J=Q.success;Object(n.useEffect)(function(){F?(i(F.name),f(F.email),b(F.pic)):t.push("/")},[t,F]);return r.a.createElement(R,{title:"EDIT PROFILE"},r.a.createElement("div",null,r.a.createElement(p.a,{className:"profileContainer"},r.a.createElement(d.a,{md:6},r.a.createElement(v.a,{onSubmit:function(e){var t;e.preventDefault(),G((t={name:c,email:E,password:I,pic:S},function(){var e=Object(O.a)(h.a.mark(function e(a,n){var r,o,c,l,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_UPDATE_REQUEST"}),r=n(),o=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},e.next=6,C.a.post("/api/users/profile",t,c);case 6:l=e.sent,s=l.data,console.log(s),a({type:"USER_UPDATE_SUCCESS",payload:s}),a({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a({type:"USER_UPDATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t,a){return e.apply(this,arguments)}}()))}},M&&r.a.createElement(B,null),J&&r.a.createElement(z,{variant:"success"},"Updated Successfully"),H&&r.a.createElement(z,{variant:"danger"},H),r.a.createElement(v.a.Group,{controlId:"name"},r.a.createElement(v.a.Label,null,"Name"),r.a.createElement(v.a.Control,{type:"text",placeholder:"Enter Name",value:c,onChange:function(e){return i(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"email"},r.a.createElement(v.a.Label,null,"Email Address"),r.a.createElement(v.a.Control,{type:"email",placeholder:"Enter Email",value:E,onChange:function(e){return f(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"password"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",placeholder:"Enter Password",value:I,onChange:function(e){return L(e.target.value)}})),r.a.createElement(v.a.Group,{controlId:"confirmPassword"},r.a.createElement(v.a.Label,null,"Confirm Password"),r.a.createElement(v.a.Control,{type:"password",placeholder:"Confirm Password",value:U,onChange:function(e){return A(e.target.value)}}))," ",k&&r.a.createElement(z,{variant:"danger"},k),r.a.createElement(v.a.Group,{controlId:"pic"},r.a.createElement(v.a.Label,null,"Change Profile Picture"),r.a.createElement("input",{onChange:function(e){return function(e){if(D(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return D("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","smartt"),t.append("cloud_name","smartleading"),fetch("https://api.cloudinary.com/v1_1/smartleading/image/upload",{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){b(e.url.toString()),console.log(S)}).catch(function(e){console.log(e)})}(e.target.files[0])},id:"custom-file",type:"file",label:"Upload Profile Picture",custom:!0})),r.a.createElement(P.a,{type:"submit",varient:"primary"},"Update"))),r.a.createElement(d.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:S,alt:c,className:"profilePic"})))))});var X=function(e){var t=e.history,a=(e.search,Object(l.b)()),o=Object(n.useState)([]),c=Object(s.a)(o,2),i=c[0],u=c[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),d=(p[0],p[1],Object(n.useState)("")),E=Object(s.a)(d,2),f=(E[0],E[1],Object(n.useState)(null)),g=Object(s.a)(f,2),v=g[0],y=g[1],S=Object(n.useState)(""),b=Object(s.a)(S,2),h=(b[0],b[1]),O=(Object(l.c)(function(e){return e.feedList}),Object(n.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg")),j=Object(s.a)(O,2),C=(j[0],j[1]),_=Object(l.c)(function(e){return e.userLogin}).userInfo;function I(){fetch("api/posts/allpost",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_.token)}}).then(function(e){return e.json()}).then(function(e){console.log(e),u(e.posts)})}Object(n.useEffect)(function(){a(x()),_||t.push("/")},[a,t,_]),Object(n.useEffect)(function(){I()},[]);var L=function(e,t,a,n){fetch("/api/posts/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_.token)},body:JSON.stringify({postId:t,text:e,pic:a})}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=i.map(function(t){return t._id==e._id?e:t});u(t)}).catch(function(e){console.log(e)})};return r.a.createElement(R,{title:"Welcome Back ".concat(_&&_.name,"..")},i&&i.map(function(e){return r.a.createElement("div",null,r.a.createElement(U.a,{style:{width:"18rem"}},r.a.createElement(U.a.Img,{variant:"top",src:e.pic}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,e.title),r.a.createElement(U.a.Text,null,e.content),r.a.createElement("div",null,e.comments.map(function(t,a){return r.a.createElement("div",{key:t._id},t._id===v?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(a){var n,r,o;a.preventDefault(),n=a.target[0].value,r=e._id,o=t._id,fetch("/api/posts/commentupdate/".concat(r,"/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_.token)},body:JSON.stringify({id:r,text:n,commentid:o})}).then(function(e){e.json().then(function(e){I(),y(null)})}),a.target.reset()}},_&&_.email===t.postedBy.email&&r.a.createElement("input",{type:"text",onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",null),_&&_.email===t.postedBy.email&&r.a.createElement("button",{onClick:function(){y(null)}},"cancel")):r.a.createElement("div",null,r.a.createElement("h6",null,r.a.createElement("span",{style:{fontWeight:"900"}},t.postedBy.email),t.text),_&&_.email===t.postedBy.email&&r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return a=e._id,n=t._id,void fetch("/api/posts/comments/".concat(a,"/").concat(n),{method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(_.token)}}).then(function(e){console.warn(e),I()});var a,n}},"delete"),r.a.createElement("button",{onClick:function(){return y(t._id)}},"Edit"))))}),_&&"lawyer"==_.role&&r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),L(t.target[0].value,e._id),t.target.reset()}},r.a.createElement("input",{type:"text",placeholder:"add a comment"})),_&&"lawyer"==_.role&&r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),L(t.target[0].value,e._id),t.target.reset()}},r.a.createElement("input",{onChange:function(e){return function(e){if("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===e&&("image/jpeg"===e.type||"image/png"===e.type)){var t=new FormData;t.append("file",e),t.append("upload_preset","smartleading"),t.append("cloud_name","smartleading"),fetch("https://api.cloudinary.com/v1_1/smartleading/image/upload",{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){C(e.url.toString())}).catch(function(e){console.log(e)})}}(e.target.files[0])},id:"custom-file",type:"file",multiple:!0,label:"Upload Post Picture",custom:!0}),r.a.createElement("button",{type:"submit"},"Send"))))))}),console.log(_&&_.email))};var Y=function(e){e.history;var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1],i=(Object(l.b)(),Object(l.c)(function(e){return e.userLogin}).userInfo);return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){var t,a;e.preventDefault(),console.log(e.target),t=e.target[0].value,fetch("/api/posts/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)},body:JSON.stringify({postId:a,text:t})}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=o.map(function(t){return t._id==e._id?e:t});c(t)}).catch(function(e){console.log(e)})}},r.a.createElement("input",{type:"text",placeholder:"add a comment"})))};var Z=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1];return r.a.createElement(i.a,null,r.a.createElement(T,{setSearch:function(e){return o(e)}}),r.a.createElement("main",{className:"App"},r.a.createElement(u.a,{path:"/",component:J,exact:!0}),r.a.createElement(u.a,{path:"/login",component:W}),r.a.createElement(u.a,{path:"/register",component:q}),r.a.createElement(u.a,{path:"/lawyerregister",component:K}),r.a.createElement(u.a,{path:"/myposts",component:function(e){var t=e.history;return r.a.createElement(Q,{search:a,history:t})}}),r.a.createElement(u.a,{path:"/post/:id",component:M}),r.a.createElement(u.a,{path:"/createpost",component:H}),r.a.createElement(u.a,{path:"/profile",component:V}),r.a.createElement(u.a,{path:"/feeds",component:X}),r.a.createElement(u.a,{path:"/comment",component:Y})),r.a.createElement(E,null))},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,175)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)})},ee=a(62),te=a(104),ae=a(103),ne=Object(ee.combineReducers)({postList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_LIST_REQUEST":return{loading:!0};case"POSTS_LIST_SUCCESS":return{loading:!1,posts:t.payload};case"POSTS_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},feedList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{feeds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FEEDS_LIST_REQUEST":return{loading:!0};case"FEEDS_LIST_SUCCESS":return{loading:!1,posts:t.payload};case"FEEDS_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},commentList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{comments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_LIST_REQUEST":return{loading:!0};case"COMMENT_LIST_SUCCESS":return{loading:!1,comment:t.payload};case"COMMENT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},postCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_CREATE_REQUEST":return{loading:!0};case"POSTS_CREATE_SUCCESS":return{loading:!1,success:!0};case"POSTS_CREATE_FAIL":return{loading:!1,error:t.payload};default:return e}},postDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_DELETE_REQUEST":return{loading:!0};case"POSTS_DELETE_SUCCESS":return{loading:!1,success:!0};case"POSTS_DELETE_FAIL":return{loading:!1,error:t.payload,success:!1};default:return e}},postUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_UPDATE_REQUEST":return{loading:!0};case"POSTS_UPDATE_SUCCESS":return{loading:!1,success:!0};case"POSTS_UPDATE_FAIL":return{loading:!1,error:t.payload,success:!1};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,userInfo:t.payload,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload,success:!1};default:return e}}}),re={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},oe=[te.a],ce=Object(ee.createStore)(ne,re,Object(ae.composeWithDevTools)(ee.applyMiddleware.apply(void 0,oe)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:ce},r.a.createElement(Z,null))),document.getElementById("root")),$()},95:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.14215483.chunk.js.map